"use strict";(self.webpackChunkprivate_screen_booking_app=self.webpackChunkprivate_screen_booking_app||[]).push([[997],{6997:(ae,k,l)=>{l.r(k),l.d(k,{TheatreBookingModule:()=>oe});var d=l(9808),u=l(1083),s=l(3075),m=l(8966),e=l(5e3),p=l(7423);let O=(()=>{class o{constructor(t){this.data=t,console.log(t)}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-alert-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","","cdkFocusInitial",""]],template:function(t,a){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Order Creation Success"),e.qZA(),e.TgZ(2,"div",1)(3,"p"),e._uU(4,"This is your Order Id "),e.TgZ(5,"strong"),e._uU(6),e.qZA(),e._uU(7," ."),e.qZA(),e.TgZ(8,"p"),e._uU(9,"A Email has been sent to the provided mail Id "),e.TgZ(10,"strong"),e._uU(11),e.qZA(),e._uU(12,", Check the mail for payment procedure or ping us on whatsapp."),e.qZA()(),e.TgZ(13,"div",2)(14,"button",3),e._uU(15,"Ok"),e.qZA()()),2&t&&(e.xp6(6),e.Oqu(a.data.orderId),e.xp6(5),e.Oqu(a.data.email))},directives:[m.uh,m.xY,m.H8,p.lW,m.ZT],styles:[""]}),o})();var _=l(520),g=l(262),y=l(9646),b=l(2340),f=l(7261);let Z=(()=>{class o{constructor(t,a){this.http=t,this.snackBar=a,this.apiUrl=b.N.apiURL}availableSlots(t,a){return this.http.get(this.apiUrl+"/book-now/available-slots",{params:(new _.LE).set("theatreName",a).set("screenDate",t)}).pipe((0,g.K)(this.handleError("available theatres")))}confirmedOrder(t){return console.log(t.screenDate),this.http.post(this.apiUrl+"/book-now/order",t).pipe((0,g.K)(this.handleError("confirming the order")))}handleError(t="operation",a){return r=>(console.error(`${t} failed: ${r.message}`),this.openSnackBar(),(0,y.of)(a))}openSnackBar(){this.snackBar.open("An Error Occured while confirming the order \n .Please try again","x",{duration:5e4,panelClass:"failure-snackbar"})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(_.eN),e.LFG(f.ux))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var h=l(9224),v=l(4623),T=l(5899),C=l(7322),w=l(7531);let S=(()=>{class o{constructor(){}get nativeWindow(){return function I(){return window}()}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),q=(()=>{class o{constructor(t,a){this.http=t,this.snackBar=a,this.apiUrl=b.N.apiURL}createRazorPayOrder(t){return console.log(t),this.http.post(this.apiUrl+"/book-now/createPaymentOrder",t).pipe((0,g.K)(this.handleError("confirming the razor pay order")))}verfiyPaymentSignature(t){return console.log(t),this.http.post(this.apiUrl+"/book-now/verifyPaymentSign",t).pipe((0,g.K)(this.handleError("verifying payment sign")))}paymentUnsuccessfull(t){return console.log(t),this.http.post(this.apiUrl+"/book-now/unsuccessfullPayment",t).pipe((0,g.K)(this.handleError("unsuccessfull payment")))}handleError(t="operation",a){return r=>(console.error(`${t} failed: ${r.message}`),this.openSnackBar(r.message),(0,y.of)(a))}openSnackBar(t){this.snackBar.open("Error occured while \n "+t,"X",{duration:5e3,panelClass:"failure-snackbar"})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(_.eN),e.LFG(f.ux))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function x(o,n){1&o&&(e.TgZ(0,"div",2),e._UZ(1,"mat-progress-bar",3),e.TgZ(2,"div",4)(3,"small"),e._uU(4,"This process might take a few seconds.please please don't refresh or hit back button"),e.qZA()()())}let z=(()=>{class o{constructor(t,a,r,i){this.winRef=t,this.razorPayService=a,this.snackBar=r,this.router=i,this.toDisable=!0,this.isManualPayClicked=!1,this.isRazorPayClicked=new e.vpe,this.confirmedOrder={fullName:"",email:"",phoneNumber:"",theatreName:"",screenDate:"",screenFromTime:new Date,screenToTime:new Date,price:0,numberOfSeats:0,slotName:""},this.isloading=!1}ngOnChanges(t){t.formData&&(this.userData=t.formData.currentValue)}ngOnInit(){}payWithRazorPay(){this.isRazorPayClicked.emit(!0),!this.isManualPayClicked&&(null!==localStorage.getItem("order")&&(this.confirmedOrder=JSON.parse(localStorage.getItem("order"))),this.confirmedOrder.fullName=this.userData.fullName,this.confirmedOrder.email=this.userData.email,this.confirmedOrder.phoneNumber=this.userData.phoneNumber,console.log("confirmed order "+this.confirmedOrder.screenDate),this.isloading=!0,this.razorPayService.createRazorPayOrder(this.confirmedOrder).subscribe(t=>{this.isloading=!1,console.log(t),t&&this.startRazorPayProcess(t)}))}startRazorPayProcess(t){const a={key:b.N.RazorPayKey,amount:t.order.price,currency:"INR",name:"",description:"",order_id:t.order.razorPayOrderId,modal:{escape:!1},notes:{},theme:{color:"#0c238a"}};a.handler=(i,c)=>{a.response=i,console.log(i),console.log(a),this.isloading=!0,this.razorPayService.verfiyPaymentSignature({razorpay_order_id:i.razorpay_order_id,razorpay_payment_id:i.razorpay_payment_id,razorpay_signature:i.razorpay_signature}).subscribe(U=>{this.isloading=!1,console.log("payment status "+U.message),this.openSnackBar("Order and payment Success \n check your mail for order details"),this.openSnackBar(U?"Order and payment Success \n check your mail for order details":"invalid payment detected"),localStorage.removeItem("order"),this.router.navigate(["home"])})},a.modal.ondismiss=()=>{this.isloading=!0,this.razorPayService.paymentUnsuccessfull(this.confirmedOrder).subscribe(i=>{this.isloading=!1,console.log(i),this.openSnackBar("Transaction cancelled.")}),console.log("Transaction cancelled."),localStorage.removeItem("order"),this.router.navigate(["home"])},new this.winRef.nativeWindow.Razorpay(a).open()}openSnackBar(t){this.snackBar.open(t,"x",{duration:5e4,panelClass:"success-snackbar"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(S),e.Y36(q),e.Y36(f.ux),e.Y36(u.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-razor-payment"]],inputs:{toDisable:"toDisable",formData:"formData",isManualPayClicked:"isManualPayClicked"},outputs:{isRazorPayClicked:"isRazorPayClicked"},features:[e._Bn([S]),e.TTD],decls:3,vars:2,consts:[["class","mt-2 mb-2",4,"ngIf"],["mat-raised-button","",1,"razor-button","mt-2","mb-2","ms-2","me-2",3,"disabled","click"],[1,"mt-2","mb-2"],["mode","query"],[1,"mt-2","text-center"]],template:function(t,a){1&t&&(e.YNc(0,x,5,0,"div",0),e.TgZ(1,"button",1),e.NdJ("click",function(){return a.payWithRazorPay()}),e._uU(2,"Razor-Pay"),e.qZA()),2&t&&(e.Q6J("ngIf",a.isloading),e.xp6(1),e.Q6J("disabled",a.toDisable||a.isManualPayClicked))},directives:[d.O5,T.pW,p.lW],styles:[".razor-button[_ngcontent-%COMP%]{padding:10px 25px;background-color:#003cff;color:#fff;font-size:large;border-radius:30px;width:150px}"]}),o})();function D(o,n){1&o&&(e.TgZ(0,"div",19),e._UZ(1,"mat-progress-bar",20),e.TgZ(2,"div",21)(3,"small"),e._uU(4,"This process might take a few seconds.please please don't refresh or hit back button"),e.qZA()()())}function B(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Please provide a name. "),e.qZA())}function M(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," Please provide a valid email address. "),e.qZA())}function F(o,n){1&o&&(e.TgZ(0,"div"),e._uU(1," contact number must be at least 10 characters long. "),e.qZA())}let R=(()=>{class o{constructor(t,a,r,i,c){this.fb=t,this.theatreService=a,this.router=r,this.dialog=i,this.snackBar=c,this.checkoutForm=this.fb.group({fullName:["",s.kI.required],email:["",[s.kI.required,s.kI.email]],phoneNumber:["",[s.kI.required,s.kI.minLength(10),s.kI.maxLength(10),s.kI.pattern("^[0-9]+$")]]}),this.isloading=!1,this.order={fullName:"",email:"",phoneNumber:"",theatreName:"",screenDate:"",screenFromTime:new Date,screenToTime:new Date,price:0,numberOfSeats:0,slotName:""},this.confirmedOrder={fullName:"",email:"",phoneNumber:"",theatreName:"",screenDate:"",screenFromTime:new Date,screenToTime:new Date,price:0,numberOfSeats:0,slotName:""},this.isRazorPayClicked=!1,this.isManualPayClicked=!1}isRazorPayClickedEvent(t){console.log(t),this.isRazorPayClicked=t}ngOnInit(){let t=history.state[0];null===localStorage.getItem("order")&&void 0===t&&this.router.navigate(["/home"]),void 0!==t&&(this.order.price=t.price,this.order.slotName=t.selectedSlot,this.order.theatreName=t.selectedTheatre,this.order.numberOfSeats=t.seats,this.order.screenDate=t.selectedDate,localStorage.setItem("order",JSON.stringify(this.order)),console.log(this.order.screenDate),console.log(this.order)),null!==localStorage.getItem("order")&&(this.order=JSON.parse(localStorage.getItem("order")))}onSubmit(t){this.isManualPayClicked=!0,!this.isRazorPayClicked&&(null!==localStorage.getItem("order")&&(this.confirmedOrder=JSON.parse(localStorage.getItem("order"))),this.confirmedOrder.fullName=t.value.fullName,this.confirmedOrder.email=t.value.email,this.confirmedOrder.phoneNumber=t.value.phoneNumber,console.log("confirmed order "+this.confirmedOrder.screenDate),this.isloading=!0,this.theatreService.confirmedOrder(this.confirmedOrder).subscribe(a=>{console.log(a),this.isloading=!1,a&&(this.openSnackBar(),this.openConfirmationDialog(a.order.email,a.order._id)),localStorage.removeItem("order"),this.router.navigate(["home"])}))}openConfirmationDialog(t,a){this.dialog.open(O,{data:{email:t,orderId:a},width:"360px",height:"290px"})}openSnackBar(){this.snackBar.open("Order Success","x",{duration:5e3,panelClass:"success-snackbar"})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(Z),e.Y36(u.F0),e.Y36(m.uw),e.Y36(f.ux))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-checkout"]],decls:93,vars:16,consts:[["mat-button","","routerLink","/book-now"],[1,"container",2,"margin","auto"],[1,"h4"],[1,"h5"],[1,"row"],[1,"col-sm-6"],[1,"mt-3"],[1,"row","mt-4"],["width","100%"],["class","mt-2 mb-2",4,"ngIf"],[1,"checkout-form",3,"formGroup"],["appearance","standard"],["matInput","","formControlName","fullName","placeholder","Your Full Name"],[4,"ngIf"],["matInput","","formControlName","email","placeholder","Your email"],["matInput","","formControlName","phoneNumber","placeholder","Your contact number"],[1,"text-center"],["mat-raised-button","","type","submit",1,"manual-pay-button","mt-2","mb-2","ms-2","me-2",3,"disabled","click"],[3,"toDisable","formData","isManualPayClicked","isRazorPayClicked"],[1,"mt-2","mb-2"],["mode","query"],[1,"mt-2","text-center"]],template:function(t,a){if(1&t&&(e.TgZ(0,"button",0),e._uU(1,"GO BACK"),e.qZA(),e.TgZ(2,"div",1)(3,"mat-card")(4,"div")(5,"div",2),e._uU(6,"Steps"),e.qZA(),e.TgZ(7,"div",3),e._uU(8,"We provide 2 payment option"),e.qZA(),e.TgZ(9,"div",4)(10,"div",5)(11,"div",3),e._uU(12," 1.Manual payment"),e.qZA(),e.TgZ(13,"mat-list")(14,"mat-list-item",6),e._uU(15,"1.After entering the details click on Pay-Manually button"),e.qZA(),e.TgZ(16,"mat-list-item",6),e._uU(17," 2.You will receive a mail (Order confirmed and payment pending) containing payment procedure "),e.qZA(),e.TgZ(18,"mat-list-item",6),e._uU(19,"3.After payment is successfull you will receive a mail ( Order confirmed and payment Success)"),e.qZA()()(),e.TgZ(20,"div",5)(21,"div",3),e._uU(22,"2.Razor Pay"),e.qZA(),e.TgZ(23,"mat-list")(24,"mat-list-item",6),e._uU(25,"1.Razor pay is the most trusted and Widely used payment gateway accross india"),e.qZA(),e.TgZ(26,"mat-list-item",6),e._uU(27,"2.Once details are filled ,Click on Razor-Pay button ,Razor Pay pop window will open "),e.qZA(),e.TgZ(28,"mat-list-item",6),e._uU(29,"3.Enter your payment information (don't worry we don't store your payment information on our servers) "),e.qZA(),e.TgZ(30,"mat-list-item",6),e._uU(31,"4.After payment is successfull you will receive a mail ( Order confirmed and payment Success) "),e.qZA()()()()(),e.TgZ(32,"div",7)(33,"div",5)(34,"table",8)(35,"tbody")(36,"tr")(37,"td")(38,"strong"),e._uU(39,"TheatreName"),e.qZA()(),e.TgZ(40,"td"),e._uU(41),e.qZA()(),e.TgZ(42,"tr")(43,"td")(44,"strong"),e._uU(45,"Date"),e.qZA()(),e.TgZ(46,"td"),e._uU(47),e.ALo(48,"date"),e.qZA()(),e.TgZ(49,"tr")(50,"td")(51,"strong"),e._uU(52,"SlotName "),e.qZA()(),e.TgZ(53,"td"),e._uU(54),e.qZA()(),e.TgZ(55,"tr")(56,"td")(57,"strong"),e._uU(58,"Price"),e.qZA()(),e.TgZ(59,"td"),e._uU(60),e.qZA()(),e.TgZ(61,"tr")(62,"td")(63,"strong"),e._uU(64,"Number of seats"),e.qZA()(),e.TgZ(65,"td"),e._uU(66),e.qZA()()()()(),e._UZ(67,"div",5),e.qZA(),e.TgZ(68,"mat-card-content"),e.YNc(69,D,5,0,"div",9),e.TgZ(70,"form",10)(71,"mat-form-field",11)(72,"div")(73,"mat-label"),e._uU(74," Full Name: "),e.qZA(),e._UZ(75,"input",12),e.YNc(76,B,2,0,"div",13),e.qZA()(),e.TgZ(77,"mat-form-field",11)(78,"div")(79,"mat-label"),e._uU(80," Email: "),e.qZA(),e._UZ(81,"input",14),e.YNc(82,M,2,0,"div",13),e.qZA()(),e.TgZ(83,"mat-form-field",11)(84,"div")(85,"mat-label"),e._uU(86,"Contact Number"),e.qZA(),e._UZ(87,"input",15),e.YNc(88,F,2,0,"div",13),e.qZA()()(),e.TgZ(89,"div",16)(90,"button",17),e.NdJ("click",function(){return a.onSubmit(a.checkoutForm)}),e._uU(91,"Pay-Manually"),e.qZA(),e.TgZ(92,"app-razor-payment",18),e.NdJ("isRazorPayClicked",function(i){return a.isRazorPayClickedEvent(i)}),e.qZA()()()()()),2&t){let r,i,c;e.xp6(41),e.Oqu(a.order.theatreName),e.xp6(6),e.hij(" ",e.lcZ(48,14,a.order.screenDate),""),e.xp6(7),e.Oqu(a.order.slotName),e.xp6(6),e.Oqu(a.order.price),e.xp6(6),e.Oqu(a.order.numberOfSeats),e.xp6(3),e.Q6J("ngIf",a.isloading),e.xp6(1),e.Q6J("formGroup",a.checkoutForm),e.xp6(6),e.Q6J("ngIf",(null==(r=a.checkoutForm.get("fullName"))?null:r.invalid)&&((null==(r=a.checkoutForm.get("fullNamename"))?null:r.dirty)||(null==(r=a.checkoutForm.get("fullName"))?null:r.touched))),e.xp6(6),e.Q6J("ngIf",(null==(i=a.checkoutForm.get("email"))?null:i.invalid)&&((null==(i=a.checkoutForm.get("email"))?null:i.dirty)||(null==(i=a.checkoutForm.get("email"))?null:i.touched))),e.xp6(6),e.Q6J("ngIf",(null==(c=a.checkoutForm.get("phoneNumber"))?null:c.invalid)&&((null==(c=a.checkoutForm.get("checkoutForm"))?null:c.dirty)||(null==(c=a.checkoutForm.get("phoneNumber"))?null:c.touched))),e.xp6(2),e.Q6J("disabled",a.checkoutForm.invalid||a.isRazorPayClicked),e.xp6(2),e.Q6J("toDisable",a.checkoutForm.invalid)("formData",a.checkoutForm.value)("isManualPayClicked",a.isManualPayClicked)}},directives:[p.lW,u.rH,h.a8,v.i$,v.Tg,h.dn,d.O5,T.pW,s._Y,s.JL,s.sg,C.KE,C.hX,w.Nt,s.Fj,s.JJ,s.u,z],pipes:[d.uU],styles:[".header-image[_ngcontent-%COMP%]{background-image:url(5ce806cb0abbc25fc5589461_1558709963909.26aec4ddfbfde50b.jpg);background-size:cover}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.checkout-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}mat-form-field[_ngcontent-%COMP%]{width:70%}.manual-pay-button[_ngcontent-%COMP%]{padding:10px 25px;background-color:#61ff06;color:#fff;font-size:large;border-radius:30px;width:150px}"]}),o})();var J=l(6856),N=l(9832);function E(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-card"),e._UZ(2,"img",19),e.TgZ(3,"mat-card-content",20)(4,"p"),e._uU(5," Insert description of the theatre 2 like features provided and number of seats "),e.qZA()(),e.TgZ(6,"mat-card-actions")(7,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectedTheatreEvent("TH0")}),e._uU(8,"Select Theatre 0"),e.qZA()()()()}}function Y(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-card"),e._UZ(2,"img",19),e.TgZ(3,"mat-card-content",20)(4,"p"),e._uU(5," Insert description of the theatre 2 like features provided and number of seats "),e.qZA()(),e.TgZ(6,"mat-card-actions")(7,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectedTheatreEvent("TH1")}),e._uU(8,"Select Theatre 1"),e.qZA()()()()}}function Q(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-card"),e._UZ(2,"img",19),e.TgZ(3,"mat-card-content",20)(4,"p"),e._uU(5,"Insert description of the theatre 2 like features provided and number of seats "),e.qZA()(),e.TgZ(6,"mat-card-actions")(7,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectedTheatreEvent("TH2")}),e._uU(8,"Select Theatre 2"),e.qZA()()()()}}function H(o,n){1&o&&(e.TgZ(0,"div",22),e._UZ(1,"mat-progress-bar",23),e.qZA())}function W(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e._uU(1," Oops,There are no Slots available for Selected Date or Theatre. Please Choose different theatre or change date. "),e.TgZ(2,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().toBookNow()}),e._uU(3,"Take me to book-now page"),e.qZA()()}}function L(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"mat-button-toggle",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().slotSelectedEvent("MORNING")}),e._uU(1," Morning "),e.qZA()}}function G(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"mat-button-toggle",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().slotSelectedEvent("AFTERNOON")}),e._uU(1," Afternoon "),e.qZA()}}function K(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"mat-button-toggle",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().slotSelectedEvent("EVENING")}),e._uU(1," Evening "),e.qZA()}}function j(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"mat-button-toggle",28),e.NdJ("click",function(){return e.CHM(t),e.oxw().slotSelectedEvent("NIGHT")}),e._uU(1," Night "),e.qZA()}}function X(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",29)(1,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().checkoutPage()}),e._uU(2," Checkout "),e.qZA()()}}const A=function(o){return{display:o}},$=function(o){return{"flex-container":o}},V=[{path:"",component:(()=>{class o{constructor(t,a,r){this.theatreService=t,this.router=a,this.route=r,this.today=new Date,this.selectedTheatre="",this.selectedSlot="",this.highlatedTheatre="",this.price=0,this.seats=0,this.hours=0,this.availableTheatre={isAfternoon:!1,isEvening:!1,isMorning:!1,isNight:!1,screenDate:"",theatreName:"",_id:"",price:0,seats:0,hours:0},this.isloading=!1,this.availableSlots={morning:!1,afternoon:!1,evening:!1,night:!1}}ngOnInit(){this.route.queryParams.subscribe(t=>{this.highlatedTheatre=void 0!==t.theatre?t.theatre:"",console.log(this.highlatedTheatre)})}selectedDateEvent(t){console.log(t),this.selectedDate=t,this.selectedDate=this.formatDate(this.selectedDate),console.log(this.selectedDate),this.selectedTheatre="",this.selectedTheatreEvent(""),this.availableSlots.afternoon=!1,this.availableSlots.morning=!1,this.availableSlots.evening=!1,this.availableSlots.night=!1,console.log(this.highlatedTheatre)}ngAfterViewInit(){}padTo2Digits(t){return t.toString().padStart(2,"0")}formatDate(t){return[t.getFullYear(),this.padTo2Digits(t.getMonth()+1),this.padTo2Digits(t.getDate())].join("-")}selectedTheatreEvent(t){console.log(t),this.selectedTheatre=t,""!==this.selectedTheatre?(this.router.navigate(["/book-now"],{queryParams:{theatre:t},skipLocationChange:!1,queryParamsHandling:"merge"}),this.isloading=!0,this.theatreService.availableSlots(this.selectedDate,this.selectedTheatre).subscribe(a=>{console.log(a),this.isloading=!1,this.availableTheatre=a.theatre,console.log(this.availableTheatre),this.price=this.availableTheatre.price,this.hours=this.availableTheatre.hours,this.seats=this.availableTheatre.seats,this.availableSlots.morning=this.availableTheatre.isMorning,this.availableSlots.afternoon=this.availableTheatre.isAfternoon,this.availableSlots.evening=this.availableTheatre.isEvening,this.availableSlots.night=this.availableTheatre.isNight,console.log(this.availableSlots)})):this.router.navigate(["/book-now"])}slotSelectedEvent(t){this.selectedSlot=t}toBookNow(){this.selectedDate="",this.selectedTheatre="",this.selectedSlot="",this.router.navigate(["/book-now"])}checkoutPage(){console.log(this.selectedDate),this.router.navigateByUrl("/book-now/checkout",{state:[{selectedDate:this.selectedDate,selectedTheatre:this.selectedTheatre,selectedSlot:this.selectedSlot,price:this.price,hours:this.hours,seats:this.seats}]})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Z),e.Y36(u.F0),e.Y36(u.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-theatre-booking"]],decls:37,vars:22,consts:[[1,"container","mt-3","mb-2"],[1,"h5"],[1,"inline-calendar-card"],[3,"minDate","selected","selectedChange"],[1,"text-center","mt-2"],[1,"container",3,"ngStyle"],[1,"row",3,"ngClass"],[1,"h3",2,"text-align","center"],["class","col-sm-4 mb-3",4,"ngIf"],["class","mt-2 mb-2",4,"ngIf"],["name","slotPicker","aria-label","Slot Picker",1,"flex-container"],[1,"h3"],[4,"ngIf"],["mat-stroked-button","","class","button-container","value","morning",3,"click",4,"ngIf"],["mat-stroked-button","","class","button-container","value","afternoon",3,"click",4,"ngIf"],["mat-stroked-button","","class","button-container","value","evening",3,"click",4,"ngIf"],["mat-stroked-button","","class","button-container","value","night",3,"click",4,"ngIf"],["class","book-now-btn mb-5",4,"ngIf"],[1,"col-sm-4","mb-3"],["height","200px","mat-card-image","","src","https://picsum.photos/seed/picsum/1200/300","alt","Random second slide"],[1,"mt-3"],["mat-stroked-button","",3,"click"],[1,"mt-2","mb-2"],["mode","query"],["mat-raised-button","",3,"click"],["mat-stroked-button","","value","morning",1,"button-container",3,"click"],["mat-stroked-button","","value","afternoon",1,"button-container",3,"click"],["mat-stroked-button","","value","evening",1,"button-container",3,"click"],["mat-stroked-button","","value","night",1,"button-container",3,"click"],[1,"book-now-btn","mb-5"],["appAutoFocus","","mat-button","",1,"checkout-button",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"div",1),e._uU(3,"How To"),e.qZA(),e.TgZ(4,"mat-list")(5,"mat-list-item"),e._uU(6,"1.Pick a date"),e.qZA(),e.TgZ(7,"mat-list-item"),e._uU(8,"2.Then select the theatre according number of seats and price"),e.qZA(),e.TgZ(9,"mat-list-item"),e._uU(10,"3.Then select Slot (Morning,Afternoon,Evening,Night)"),e.qZA(),e.TgZ(11,"mat-list-item"),e._uU(12,"4.Press Book-now button ,it will take you to checkout page"),e.qZA()()(),e.TgZ(13,"div")(14,"mat-card",2)(15,"mat-calendar",3),e.NdJ("selectedChange",function(i){return a.selectedDateEvent(i)}),e.qZA()(),e.TgZ(16,"div")(17,"p",4),e._uU(18,"All Dates are according to (GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi"),e.qZA()()()(),e.TgZ(19,"div",5)(20,"div",6)(21,"div",7),e._uU(22,"Select the theatre"),e.qZA(),e.YNc(23,E,9,0,"div",8),e.YNc(24,Y,9,0,"div",8),e.YNc(25,Q,9,0,"div",8),e.qZA()(),e.YNc(26,H,2,0,"div",9),e.TgZ(27,"div",5)(28,"mat-button-toggle-group",10)(29,"div",11),e._uU(30),e.qZA(),e.YNc(31,W,4,0,"div",12),e.YNc(32,L,2,0,"mat-button-toggle",13),e.YNc(33,G,2,0,"mat-button-toggle",14),e.YNc(34,K,2,0,"mat-button-toggle",15),e.YNc(35,j,2,0,"mat-button-toggle",16),e.qZA()(),e.YNc(36,X,3,0,"div",17)),2&t&&(e.xp6(15),e.Q6J("minDate",a.today)("selected",a.selectedDate),e.xp6(4),e.Q6J("ngStyle",e.VKq(16,A,a.selectedDate?"block":"None")),e.xp6(1),e.Q6J("ngClass",e.VKq(18,$,""!==a.highlatedTheatre)),e.xp6(3),e.Q6J("ngIf","TH0"===a.highlatedTheatre||""===a.highlatedTheatre),e.xp6(1),e.Q6J("ngIf","TH1"===a.highlatedTheatre||""===a.highlatedTheatre),e.xp6(1),e.Q6J("ngIf","TH2"===a.highlatedTheatre||""===a.highlatedTheatre),e.xp6(1),e.Q6J("ngIf",a.isloading),e.xp6(1),e.Q6J("ngStyle",e.VKq(20,A,a.selectedTheatre?"block":"None")),e.xp6(3),e.hij("Select the Slot for ",a.selectedTheatre,""),e.xp6(1),e.Q6J("ngIf",!1===a.isloading&&!1===a.availableSlots.morning&&!1===a.availableSlots.afternoon&&!1===a.availableSlots.evening&&!1===a.availableSlots.night),e.xp6(1),e.Q6J("ngIf",a.availableSlots.morning),e.xp6(1),e.Q6J("ngIf",a.availableSlots.afternoon),e.xp6(1),e.Q6J("ngIf",a.availableSlots.evening),e.xp6(1),e.Q6J("ngIf",a.availableSlots.night),e.xp6(1),e.Q6J("ngIf",""!==a.selectedSlot))},directives:[v.i$,v.Tg,h.a8,J._H,d.PC,d.mk,d.O5,h.G2,h.dn,h.hq,p.lW,T.pW,N.A9,N.Yi],styles:[".inline-calendar-card[_ngcontent-%COMP%]{width:320px;margin:auto}.flex-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;flex-wrap:wrap;white-space:normal}.button-container[_ngcontent-%COMP%]{margin:10px;width:50px}.book-now-btn[_ngcontent-%COMP%]{text-align:center;font-size:large;margin:30px}.mat-button-toggle-group-appearance-standard[_ngcontent-%COMP%]{border:none}.mat-button-toggle[_ngcontent-%COMP%]{width:100px;border-radius:10px}.mat-button-toggle[_ngcontent-%COMP%]:hover, .mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:transparent;color:#10f!important}.checkout-button[_ngcontent-%COMP%]{padding:10px 25px;background-color:#000;color:#fff;font-size:large;border-radius:30px;width:150px}"]}),o})()},{path:"checkout",component:R}];let ee=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.Bz.forChild(V)],u.Bz]}),o})();var P=l(7341);let te=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.ez,P.h]]}),o})(),oe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.ez,ee,P.h,s.UX,s.u5,te]]}),o})()}}]);